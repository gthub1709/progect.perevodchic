<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>–ü–µ—Ä–µ–≤–æ–¥—á–∏–∫ —Å –û–∑–≤—É—á–∫–æ–π</title>
    <style>
        body {
            font-family: 'Segoe UI', sans-serif;
            text-align: center;
            padding: 50px;
            background-color: #2c2c2c; /* –°–µ—Ä—ã–π —Ñ–æ–Ω */
            color: #fff;
            text-shadow: 1px 1px 2px black;
            transition: background-color 1s ease-in-out;
        }

        textarea, select, button {
            margin: 10px;
            padding: 15px;
            font-size: 18px;
            border-radius: 8px;
            border: none;
            box-shadow: 0 4px 6px rgba(0,0,0,0.3);
        }

        button {
            background-color: #4CAF50;
            color: white;
            cursor: pointer;
            transition: transform 0.2s;
        }

        button:hover {
            transform: scale(1.05);
        }

        h1 {
            font-size: 36px;
            margin-bottom: 20px;
        }

        #outputText {
            margin-top: 20px;
            font-size: 24px;
            background-color: rgba(0, 0, 0, 0.5);
            padding: 20px;
            border-radius: 10px;
            display: inline-block;
        }

        #flag {
            margin-top: 20px;
            height: 60px;
            border-radius: 5px;
            box-shadow: 0 0 10px rgba(0,0,0,0.5);
        }
    </style>
</head>
<body>

    <h1>üåê –ü–µ—Ä–µ–≤–æ–¥—á–∏–∫ —Å –û–∑–≤—É—á–∫–æ–π</h1>
    <textarea id="inputText" rows="4" cols="50" placeholder="–í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç..."></textarea><br>

    <label for="language">–í—ã–±–µ—Ä–∏—Ç–µ —è–∑—ã–∫ –ø–µ—Ä–µ–≤–æ–¥–∞:</label>
    <select id="language" onchange="changeCountryAssets()">
        <option value="ru">–†—É—Å—Å–∫–∏–π</option>
        <option value="pt">–ü–æ—Ä—Ç—É–≥–∞–ª—å—Å–∫–∏–π</option>
        <option value="uz">–£–∑–±–µ–∫—Å–∫–∏–π</option>
        <option value="tg">–¢–∞–¥–∂–∏–∫—Å–∫–∏–π</option>
        <option value="en">–ê–Ω–≥–ª–∏–π—Å–∫–∏–π</option>
        <option value="es">–ò—Å–ø–∞–Ω—Å–∫–∏–π</option>
        <option value="zh">–ö–∏—Ç–∞–π—Å–∫–∏–π</option>
        <option value="de">–ù–µ–º–µ—Ü–∫–∏–π</option>
        <option value="fr">–§—Ä–∞–Ω—Ü—É–∑—Å–∫–∏–π</option>
        <option value="ja">–Ø–ø–æ–Ω—Å–∫–∏–π</option>
        <option value="ar">–ê—Ä–∞–±—Å–∫–∏–π</option>
        <option value="it">–ò—Ç–∞–ª—å—è–Ω—Å–∫–∏–π</option>
        <option value="yo">–ô–æ—Ä—É–±–∞ (–ù–∏–≥–µ—Ä–∏—è)</option>
    </select><br>

    <img id="flag" src="" alt="–§–ª–∞–≥ —Å—Ç—Ä–∞–Ω—ã"><br>

    <button onclick="translateText()">–ü–µ—Ä–µ–≤–µ—Å—Ç–∏ –∏ –û–∑–≤—É—á–∏—Ç—å</button>

    <h2 id="outputText">–ó–¥–µ—Å—å –±—É–¥–µ—Ç –ø–µ—Ä–µ–≤–æ–¥</h2>

    <script>
        const countryAssets = {
            ru: {
                flag: 'https://flagcdn.com/w80/ru.png'
            },
            pt: {
                flag: 'https://flagcdn.com/w80/pt.png'
            },
            uz: {
                flag: 'https://flagcdn.com/w80/uz.png'
            },
            tg: {
                flag: 'https://flagcdn.com/w80/tj.png'
            },
            en: {
                flag: 'https://flagcdn.com/w80/gb.png'
            },
            es: {
                flag: 'https://flagcdn.com/w80/es.png'
            },
            zh: {
                flag: 'https://flagcdn.com/w80/cn.png'
            },
            de: {
                flag: 'https://flagcdn.com/w80/de.png'
            },
            fr: {
                flag: 'https://flagcdn.com/w80/fr.png'
            },
            ja: {
                flag: 'https://flagcdn.com/w80/jp.png'
            },
            ar: {
                flag: 'https://flagcdn.com/w80/sa.png'
            },
            it: {
                flag: 'https://flagcdn.com/w80/it.png'
            },
            yo: {
                flag: 'https://flagcdn.com/w80/ng.png'
            }
        };

        function changeCountryAssets() {
            const selectedLang = document.getElementById('language').value;
            const assets = countryAssets[selectedLang];
            if (assets) {
                document.getElementById('flag').src = assets.flag;
                document.getElementById('flag').alt = `–§–ª–∞–≥ —è–∑—ã–∫–∞ ${selectedLang}`;
            }
        }

        async function translateText() {
            const text = document.getElementById('inputText').value;
            const targetLang = document.getElementById('language').value;

            const response = await fetch(`https://api.mymemory.translated.net/get?q=${encodeURIComponent(text)}&langpair=ru|${targetLang}`);
            const data = await response.json();

            const translated = data.responseData.translatedText;
            document.getElementById('outputText').textContent = translated;

            const utterance = new SpeechSynthesisUtterance(translated);
            utterance.lang = getVoiceLang(targetLang);
            speechSynthesis.speak(utterance);
        }

        function getVoiceLang(code) {
            const map = {
                ru: 'ru-RU',
                pt: 'pt-BR',
                uz: 'uz-UZ',
                tg: 'tg-TJ',
                en: 'en-US',
                es: 'es-ES',
                zh: 'zh-CN',
                de: 'de-DE',
                fr: 'fr-FR',
                ja: 'ja-JP',
                ar: 'ar-SA',
                it: 'it-IT',
                yo: 'yo-NG'
            };
            return map[code] || 'en-US';
        }

        // –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å—Ç–∞—Ä—Ç–æ–≤–æ–≥–æ —Ñ–ª–∞–≥–∞
        changeCountryAssets();
    </script>
</body>
</html>
